<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Swan + RSS Feed</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: #f0f0f0;
    overflow-x: hidden;
  }
  #rss {
    padding: 20px;
    max-width: 800px;
    margin: auto;
    background: white;
    box-shadow: 0 0 8px rgba(0,0,0,0.2);
  }
  #rss h2 {
    margin-top: 0;
    color: #333;
  }
  #rss ul {
    list-style: none;
    padding-left: 0;
  }
  #rss li {
    margin: 8px 0;
    font-size: 16px;
  }
  #rss a {
    text-decoration: none;
    color: #0066cc;
  }
  #rss a:hover {
    text-decoration: underline;
  }

  /* Swan styling */
  #swan {
    position: fixed;
    bottom: 20px; /* stays near bottom of page */
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    pointer-events: none;
    transition: left 0.3s ease;
    z-index: 9999;
  }
</style>
</head>
<body>

<!-- Swan image -->
<img src="swan.png" id="swan" alt="Swan">

<!-- RSS feed -->
<div id="rss">
  <h2>Medical Devices News</h2>
  <p>Loading feed...</p>
</div>

<script>
// ===== Swan movement only left/right =====
const swan = document.getElementById('swan');
document.addEventListener('mousemove', (e) => {
  const pageWidth = window.innerWidth;
  const percentX = e.clientX / pageWidth;
  const moveX = percentX * (pageWidth - 80); // 80 = swan width
  swan.style.left = moveX + "px";
});

// ===== RSS fetching via public CORS proxy =====
const FEED_URL = 'https://www.medtechdive.com/feeds/';
const PROXY = 'https://api.allorigins.win/raw?url=';
const requestUrl = PROXY + encodeURIComponent(FEED_URL);

fetch(requestUrl)
  .then(res => res.text())
  .then(str => new window.DOMParser().parseFromString(str, "text/xml"))
  .then(data => {
    const items = data.querySelectorAll("item");
    let output = '<h2>Medical Devices News</h2><ul>';
    items.forEach((item, index) => {
      if (index < 10) { // limit to 10 items
        output += `<li><a href="${item.querySelector("link").textContent}" target="_blank">
        ${item.querySelector("title").textContent}</a></li>`;
      }
    });
    output += '</ul>';
    document.getElementById("rss").innerHTML = output;
  })
  .catch(err => {
    document.getElementById("rss").innerHTML = "<p>Error loading feed.</p>";
    console.error(err);
  });
</script>

</body>
</html>
